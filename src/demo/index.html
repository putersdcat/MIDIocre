<!DOCTYPE html>
<html lang="en" data-theme="hakerman">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIDIocre Player</title>
    <link rel="stylesheet" href="demo.css">
    <!-- Preload graffiti winner fonts so they're ready immediately -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Sedgwick+Ave&family=Sedgwick+Ave+Display&display=swap">
    <style>
        /* Tiny override to define app font variable; applied only to wrapper via CSS */
        :root { --app-font: 'Sedgwick Ave Display', 'Sedgwick Ave', 'Courier New', 'Lucida Console', monospace; }
    </style>
</head>
<body>
    <div class="wrapper" id="wrapper">
        <div class="scanlines"></div>
        <div class="crt"></div>
        <!-- YOUR EDITED RETRO GRAFFITI BOMB HEADER -->
        <div class="header">P√ºtersDcat - FULLY CRACKED</div>
        
        <svg id="bomb-svg" class="bomb-svg" width="920" height="480" viewBox="0 0 920 480" xmlns="http://www.w3.org/2000/svg">
            <defs>
                <pattern id="brick" patternUnits="userSpaceOnUse" width="92" height="48">
                    <rect id="brick-bg" width="92" height="48" fill="#aa0000"/>
                    <rect id="brick-line1" width="92" height="8" fill="#660000"/>
                    <rect id="brick-line2" x="46" y="24" width="46" height="8" fill="#660000"/>
                    <line x1="0" y1="0" x2="92" y2="0" stroke="#440000" stroke-width="4"/>
                    <line x1="0" y1="24" x2="92" y2="24" stroke="#440000" stroke-width="4"/>
                    <line x1="46" y1="0" x2="46" y2="48" stroke="#440000" stroke-width="4"/>
                </pattern>

                <linearGradient id="graffiti" x1="0%" y1="0%" x2="0%" y2="100%">
                    <stop id="g-stop1" offset="0%" stop-color="#ff88ff"/>
                    <stop id="g-stop2" offset="25%" stop-color="#00ffcc"/>
                    <stop id="g-stop3" offset="50%" stop-color="#4488ff"/>
                    <stop id="g-stop4" offset="75%" stop-color="#ff2288"/>
                    <stop id="g-stop5" offset="100%" stop-color="#aa00ff"/>
                </linearGradient>
                <filter id="neon" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="6" result="glow1"/>
                    <feGaussianBlur stdDeviation="14" result="glow2"/>
                    <feMerge>
                        <feMergeNode in="glow2"/>
                        <feMergeNode in="glow1"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
                <filter id="thick" x="-30%" y="-30%" width="160%" height="160%">
                    <feDropShadow id="bomb-dropshadow" dx="0" dy="0" stdDeviation="3" flood-color="#000000" flood-opacity="1"/>
                </filter>
            </defs>

            <!-- RED BRICK BAR -->
            <rect x="0" y="0" width="920" height="92" fill="url(#brick)"/>

            <!-- THICK BLACK OUTLINE -->
            <text id="bomb-outline" x="460" y="278" font-family="Impact, Arial Black, sans-serif" font-size="218" font-weight="900" fill="#111111" stroke="#000000" stroke-width="42" stroke-linejoin="round" paint-order="stroke fill" text-anchor="middle" dominant-baseline="middle" filter="url(#thick)">MIDIocre</text>

            <!-- VIBRANT GRAFFITI FILL + NEON -->
            <text id="bomb-fill" x="460" y="278" font-family="Impact, Arial Black, sans-serif" font-size="218" font-weight="900" fill="url(#graffiti)" stroke="#112233" stroke-width="14" stroke-linejoin="round" paint-order="stroke fill" text-anchor="middle" dominant-baseline="middle" filter="url(#neon)">MIDIocre</text>

            <!-- WHITE HIGHLIGHT / DRIP SHINE -->
            <text id="bomb-shine" x="452" y="265" font-family="Impact, Arial Black, sans-serif" font-size="218" font-weight="900" fill="#ffffff" opacity="0.35" stroke="none" text-anchor="middle" dominant-baseline="middle">MIDIocre</text>

            <!-- YOUR EDITED SIGNATURE -->
            <text x="760" y="430" font-family="Courier New, monospace" font-size="42" fill="#ff4422" opacity="0.9" text-anchor="end">√Ç√é ≈†≈Å√òP ƒå≈ò√ä≈¥</text>

            <!-- TINY TAG -->
            <text x="160" y="430" font-family="Courier New, monospace" font-size="26" fill="#00ff88" opacity="0.8" text-anchor="start">MIDIocre Player</text>

            <!-- optional fuse group left out for now -->
        </svg>

        <!-- YOUR APP CONTROLS WRAPPED INSIDE THE KICK-ASS BORDER -->
        <div id="app">
            <!-- theme picker stays exactly where it was -->
            <header>
                <div class="header-controls">
                    <div class="theme-picker">
                        <label for="font-select">Font:</label>
                        <span id="font-selector-row">
                        <select id="font-select">
                            <option value="Sedgwick Ave Display">Sedgwick Ave Display ‚òÖ</option>
                            <option value="Sedgwick Ave">Sedgwick Ave ‚òÖ</option>
                            <option value="">‚Äî System default ‚Äî</option>
                            <optgroup label="üñå Spray / Marker">
                              <option value="Rubik Spray Paint">Rubik Spray Paint</option>
                              <option value="Permanent Marker">Permanent Marker</option>
                              <option value="Rock Salt">Rock Salt</option>
                            </optgroup>
                            <optgroup label="‚úç Tag / Handwritten">
                              <option value="Calligraffitti">Calligraffitti</option>
                              <option value="Boogaloo">Boogaloo</option>
                            </optgroup>
                            <optgroup label="üß± Bold / Distressed">
                              <option value="Rubik Dirt">Rubik Dirt</option>
                              <option value="Bangers">Bangers</option>
                              <option value="Wallpoet">Wallpoet (Stencil)</option>
                            </optgroup>
                        </select>
                        </span>
                        <button class="theme-btn" data-theme="midnight">üåô</button>
                        <button class="theme-btn" data-theme="synthwave">üåÜ</button>
                        <button class="theme-btn" data-theme="emerald">üå≤</button>
                        <button class="theme-btn" data-theme="frost">‚ùÑÔ∏è</button>
                        <button class="theme-btn active" data-theme="hakerman">üíÄ</button>
                    </div>
                </div>
            </header>

            <!-- all your controls, transport, viz, soundfont builder etc. go here unchanged -->
            <!-- original UI sections from indexOrig.html inserted below -->

            <section id="controls">
      <div class="control-row">
        <div class="dropdowns">
          <label>SoundFont:
            <div class="select-with-nav">
              <select id="sf2-select"><option value="">Loading‚Ä¶</option></select>
              <div class="nav-buttons">
                <button id="sf2-prev" class="nav-btn" title="Previous SoundFont">‚ñ≤</button>
                <button id="sf2-next" class="nav-btn" title="Next SoundFont">‚ñº</button>
              </div>
            </div>
          </label>
          <label>MIDI:
            <select id="midi-select"><option value="">Loading‚Ä¶</option></select>
          </label>
          <label>Instrument:
            <div class="select-with-nav">
              <select id="instrument-select"><option value="-1">Auto (per-channel)</option></select>
              <div class="nav-buttons">
                <button id="instrument-prev" class="nav-btn" title="Previous Instrument">‚ñ≤</button>
                <button id="instrument-next" class="nav-btn" title="Next Instrument">‚ñº</button>
              </div>
            </div>
          </label>
        </div>
      </div>

      <div class="control-row transport">
        <button id="btn-prev" class="transport-sm" title="Restart / Previous track">‚èÆ</button>
        <button id="btn-playpause" title="Play">‚ñ∂</button>
        <button id="btn-stop" title="Stop" disabled>‚èπ</button>
        <button id="btn-next" class="transport-sm" title="Next track">‚è≠</button>
        <label class="loop-toggle">
          <input type="checkbox" id="chk-loop"> Loop
        </label>
      </div>

      <div class="control-row">
        <label class="slider-label">Tempo:
          <input type="range" id="tempo-slider" min="10" max="300" value="100" step="1">
          <span id="tempo-value">100%</span>
        </label>
        <label class="slider-label">Volume:
          <input type="range" id="volume-slider" min="0" max="100" value="80" step="1">
          <span id="volume-value">80%</span>
        </label>
      </div>
    </section>

    <section id="progress-section">
      <div class="viz-toolbar">
        <button class="viz-toggle active" data-viz="piano" title="Piano keys">üéπ</button>
        <button class="viz-toggle" data-viz="waterfall" title="Note stream">üåä</button>
        <button class="viz-toggle" data-viz="waveform" title="Waveform">„Ä∞Ô∏è</button>
      </div>
      <div class="viz-container">
        <canvas id="piano-canvas" width="800" height="80"></canvas>
        <canvas id="waterfall-canvas" width="800" height="200" style="display:none"></canvas>
        <canvas id="waveform-canvas" width="800" height="120" style="display:none"></canvas>
      </div>
      <div id="time-display">
        <span id="current-time">0:00</span> / <span id="total-time">0:00</span>
        <span id="voice-count"></span>
      </div>
    </section>

    <section id="status">
      <div id="status-text">Ready. Select a SoundFont and MIDI file to begin.</div>
    </section>

    <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê SoundFont Builder ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
    <section id="sf2-builder">
      <div class="builder-header" id="builder-toggle">
        <h2>üîß SoundFont Builder</h2>
        <span class="builder-arrow">‚ñ∏</span>
      </div>
      <div class="builder-body" id="builder-body">

        <div class="builder-row">
          <div class="builder-sources" id="builder-sources">
            <h3>Available SoundFonts</h3>
            <div class="builder-hint">Loading catalog‚Ä¶</div>
            <div id="sf2-catalog-list" class="catalog-list"></div>
          </div>
          <div class="builder-selection" id="builder-selection">
            <h3>Selected Presets <span id="selection-count">(0)</span></h3>
            <div id="selection-list" class="selection-list">
              <div class="builder-hint">Select presets from the left to add them here.</div>
            </div>
            <button id="btn-clear-selection" class="builder-btn btn-secondary" disabled>Clear All</button>
          </div>
        </div>

        <div class="builder-form">
          <h3>Output Settings</h3>
          <div class="builder-form-row">
            <label>SoundFont Name:
              <input type="text" id="sf2-build-name" placeholder="My Custom SoundFont" maxlength="64">
            </label>
            <label>Filename:
              <input type="text" id="sf2-build-filename" placeholder="MyCustom.sf2" maxlength="64">
            </label>
          </div>
          <div class="builder-form-row">
            <label>Engineer:
              <input type="text" id="sf2-build-engineer" placeholder="(optional)" maxlength="64">
            </label>
            <label>Copyright:
              <input type="text" id="sf2-build-copyright" placeholder="(optional)" maxlength="64">
            </label>
          </div>
          <div class="builder-form-row">
            <label class="full-width">Comments:
              <input type="text" id="sf2-build-comments" placeholder="(optional)" maxlength="128">
            </label>
          </div>
          <div class="builder-actions">
            <label class="overwrite-toggle">
              <input type="checkbox" id="sf2-build-overwrite"> Overwrite if exists
            </label>
            <button id="btn-build-sf2" class="builder-btn btn-primary" disabled>üî® Build SoundFont</button>
          </div>
          <div id="build-result" class="build-result"></div>
        </div>

      </div>
    </section>
        </div>

        <div class="footer">Mediocre by name, excellent by implementation. PDC|Cld46Op|RaptrMin|GrokC1|Grok</div>
    </div>

    <script>
      // dynamically load the compiled demo bundle
      (function() {
        const isDev = location.pathname.startsWith('/src/demo') || location.hostname === 'localhost';
        const scriptSrc = isDev ? '/dist/demo.js' : './demo.js';
        const s = document.createElement('script');
        s.src = scriptSrc;
        s.defer = true;
        document.head.appendChild(s);
      })();
    </script>
</body>
</html>